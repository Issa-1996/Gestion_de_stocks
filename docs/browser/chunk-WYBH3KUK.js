import{b as V,c as H,d as T,e as E,g as z}from"./chunk-37RPS6TP.js";import{a as I}from"./chunk-XN3454X6.js";import{$ as m,$a as u,Ba as C,Ga as P,Jb as L,Ka as g,Ra as h,Sa as y,Ua as p,Va as w,Wa as k,Xa as t,Y as x,Ya as o,Z as v,Za as s,_ as c,_a as S,ab as f,gb as d,hb as _,jb as M,ka as b,ua as O,xa as r}from"./chunk-6W2COFZ2.js";var R=(n,i)=>i.route;function A(n,i){n&1&&(t(0,"span"),d(1,"Gestion Stock"),o())}function j(n,i){if(n&1&&(t(0,"span",27),d(1),o()),n&2){let e=f().$implicit;r(),_(e.label)}}function G(n,i){if(n&1&&(t(0,"a",9),s(1,"span",26),g(2,j,2,1,"span",27),o()),n&2){let e=i.$implicit,a=f();h("routerLink",e.route)("title",e.label),r(),h("innerHTML",a.getIcon(e.icon),O),r(),p(a.sidebarOpen()?2:-1)}}function N(n,i){n&1&&(c(),s(0,"polyline",13))}function D(n,i){n&1&&(c(),s(0,"polyline",14))}function F(n,i){if(n&1){let e=S();t(0,"div",28)(1,"div",29),d(2),o(),t(3,"div",30)(4,"span",31),d(5),o(),t(6,"span",32),d(7),o()()(),t(8,"button",33),u("click",function(){x(e);let l=f();return v(l.logout())}),c(),t(9,"svg",12),s(10,"path",34)(11,"polyline",35)(12,"line",36),o()()}if(n&2){let e=i;r(2),M(" ",e.firstName.charAt(0),"",e.lastName.charAt(0)," "),r(3),M("",e.firstName," ",e.lastName,""),r(2),_(e.role)}}var B=class n{constructor(i,e){this.authService=i;this.router=e;this.currentUser=this.authService.currentUser}sidebarOpen=b(this.getInitialSidebarState());currentUser;menuItems=[{icon:"dashboard",label:"Tableau de Bord",route:"/dashboard"},{icon:"inventory",label:"Produits",route:"/products"},{icon:"category",label:"Cat\xE9gories",route:"/categories"},{icon:"suppliers",label:"Fournisseurs",route:"/suppliers"},{icon:"sales",label:"Ventes",route:"/sales"},{icon:"stockout",label:"Sorties de Stock",route:"/stock-out"},{icon:"transactions",label:"Transactions",route:"/transactions"},{icon:"reports",label:"Rapports",route:"/reports"}];getInitialSidebarState(){return window.innerWidth>768}toggleSidebar(){this.sidebarOpen.update(i=>!i)}logout(){this.authService.logout(),this.router.navigate(["/login"])}getIcon(i){return{dashboard:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>',inventory:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 7H4C2.89543 7 2 7.89543 2 9V19C2 20.1046 2.89543 21 4 21H20C21.1046 21 22 20.1046 22 19V9C22 7.89543 21.1046 7 20 7Z"/><path d="M16 21V5C16 4.46957 15.7893 3.96086 15.4142 3.58579C15.0391 3.21071 14.5304 3 14 3H10C9.46957 3 8.96086 3.21071 8.58579 3.58579C8.21071 3.96086 8 4.46957 8 5V21"/></svg>',category:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h7v7H4V4zm9 0h7v7h-7V4zm0 9h7v7h-7v-7zm-9 0h7v7H4v-7z"/></svg>',suppliers:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>',sales:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg>',stockout:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>',transactions:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>',reports:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 20V10"/><path d="M12 20V4"/><path d="M6 20v-6"/></svg>'}[i]||""}static \u0275fac=function(e){return new(e||n)(C(I),C(H))};static \u0275cmp=P({type:n,selectors:[["app-main-layout"]],decls:30,vars:6,consts:[[1,"layout"],[1,"sidebar-overlay",3,"click"],[1,"sidebar"],[1,"sidebar-header"],[1,"logo"],["width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M20 7H4C2.89543 7 2 7.89543 2 9V19C2 20.1046 2.89543 21 4 21H20C21.1046 21 22 20.1046 22 19V9C22 7.89543 21.1046 7 20 7Z"],["d","M16 21V5C16 4.46957 15.7893 3.96086 15.4142 3.58579C15.0391 3.21071 14.5304 3 14 3H10C9.46957 3 8.96086 3.21071 8.58579 3.58579C8.21071 3.96086 8 4.46957 8 5V21"],[1,"sidebar-nav"],["routerLinkActive","active",1,"nav-item",3,"routerLink","title"],[1,"sidebar-footer"],[1,"toggle-btn",3,"click","title"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","15 18 9 12 15 6"],["points","9 18 15 12 9 6"],[1,"main-content"],[1,"header"],[1,"header-left"],[1,"menu-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","3","y1","12","x2","21","y2","12"],["x1","3","y1","6","x2","21","y2","6"],["x1","3","y1","18","x2","21","y2","18"],[1,"header-right"],[1,"user-menu"],[1,"content"],[1,"nav-icon",3,"innerHTML"],[1,"nav-label"],[1,"user-info"],[1,"user-avatar"],[1,"user-details"],[1,"user-name"],[1,"user-role"],["title","D\xE9connexion",1,"logout-btn",3,"click"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"]],template:function(e,a){if(e&1&&(t(0,"div",0)(1,"div",1),u("click",function(){return a.toggleSidebar()}),o(),t(2,"aside",2)(3,"div",3)(4,"div",4),c(),t(5,"svg",5),s(6,"path",6)(7,"path",7),o(),g(8,A,2,0,"span"),o()(),m(),t(9,"nav",8),w(10,G,3,4,"a",9,R),o(),t(12,"div",10)(13,"button",11),u("click",function(){return a.toggleSidebar()}),c(),t(14,"svg",12),g(15,N,1,0,":svg:polyline",13)(16,D,1,0,":svg:polyline",14),o()()()(),m(),t(17,"div",15)(18,"header",16)(19,"div",17)(20,"button",18),u("click",function(){return a.toggleSidebar()}),c(),t(21,"svg",19),s(22,"line",20)(23,"line",21)(24,"line",22),o()()(),m(),t(25,"div",23)(26,"div",24),g(27,F,13,5),o()()(),t(28,"main",25),s(29,"router-outlet"),o()()()),e&2){let l;y("sidebar-closed",!a.sidebarOpen()),r(8),p(a.sidebarOpen()?8:-1),r(2),k(a.menuItems),r(3),h("title",a.sidebarOpen()?"R\xE9duire":"Agrandir"),r(2),p(a.sidebarOpen()?15:16),r(12),p((l=a.currentUser())?27:-1,l)}},dependencies:[L,z,V,T,E],styles:['.layout[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:#f7fafc}.sidebar[_ngcontent-%COMP%]{width:260px;background:linear-gradient(180deg,#1a202c,#2d3748);color:#fff;display:flex;flex-direction:column;transition:width .3s ease;position:fixed;left:0;top:0;bottom:0;z-index:100;box-shadow:2px 0 8px #0000001a}.sidebar-closed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:70px}.sidebar-header[_ngcontent-%COMP%]{padding:24px 20px;border-bottom:1px solid rgba(255,255,255,.1)}.sidebar-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:#fff}.sidebar-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}.sidebar-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:700;white-space:nowrap}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:16px 0;overflow-y:auto}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 20px;color:#ffffffb3;text-decoration:none;transition:all .2s;position:relative}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:#fff}.sidebar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:#667eea33;color:#fff}.sidebar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:#667eea}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:center;width:20px;height:20px}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{white-space:nowrap;font-size:14px;font-weight:500}.sidebar-footer[_ngcontent-%COMP%]{padding:16px 20px;border-top:1px solid rgba(255,255,255,.1)}.sidebar-footer[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background:#ffffff0d;border:none;border-radius:8px;color:#fff;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.sidebar-footer[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.main-content[_ngcontent-%COMP%]{flex:1;margin-left:260px;display:flex;flex-direction:column;transition:margin-left .3s ease}.sidebar-closed[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-left:70px}.header[_ngcontent-%COMP%]{background:#fff;height:70px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;box-shadow:0 1px 3px #0000001a;position:sticky;top:0;z-index:50}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{display:none;padding:8px;background:transparent;border:none;color:#4a5568;cursor:pointer;border-radius:8px;transition:all .2s}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:hover{background:#f7fafc}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{display:block}}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.user-menu[_ngcontent-%COMP%], .user-menu[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-menu[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px}.user-menu[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-menu[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;color:#1a202c;font-size:14px}.user-menu[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:12px;color:#718096}.user-menu[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{padding:8px;background:transparent;border:none;color:#718096;cursor:pointer;border-radius:8px;transition:all .2s;display:flex;align-items:center;justify-content:center}.user-menu[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background:#fee;color:#ef4444}.content[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.sidebar-overlay[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.sidebar-overlay[_ngcontent-%COMP%]{display:none;position:fixed;inset:0;background:#00000080;z-index:99;animation:fadeIn .3s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.sidebar[_ngcontent-%COMP%]{transform:translate(-100%);width:260px;transition:transform .3s ease}.layout[_ngcontent-%COMP%]:not(.sidebar-closed)   .sidebar[_ngcontent-%COMP%]{transform:translate(0)}.layout[_ngcontent-%COMP%]:not(.sidebar-closed)   .sidebar-overlay[_ngcontent-%COMP%]{display:block}.main-content[_ngcontent-%COMP%]{margin-left:0!important}.header[_ngcontent-%COMP%]{padding:0 16px;height:60px}.header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;font-size:13px}.header[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{padding:6px}.header[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.sidebar-footer[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.header[_ngcontent-%COMP%]{padding:0 12px;height:56px}.header[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]{gap:8px}.header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:32px;height:32px;font-size:12px}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}']})};export{B as MainLayoutComponent};
