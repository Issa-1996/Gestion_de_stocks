import{A as n,M as d,a as o,b as s,k as r,ka as c}from"./chunk-6W2COFZ2.js";var l=class i{transactionsSignal=c([]);alertsSignal=c([]);mockTransactions=[{id:"1",productId:"1",type:"PURCHASE",quantity:10,unitPrice:600,totalPrice:6e3,reference:"PUR-2025-001",notes:"Achat initial",userId:"1",createdAt:new Date(2025,9,1)},{id:"2",productId:"2",type:"SALE",quantity:-5,unitPrice:29.99,totalPrice:149.95,reference:"SAL-2025-001",userId:"1",createdAt:new Date(2025,9,2)},{id:"3",productId:"3",type:"SALE",quantity:-2,unitPrice:19.99,totalPrice:39.98,reference:"SAL-2025-002",userId:"2",createdAt:new Date(2025,9,3)},{id:"4",productId:"1",type:"SALE",quantity:-3,unitPrice:799.99,totalPrice:2399.97,reference:"SAL-2025-003",userId:"1",createdAt:new Date(2025,9,4)},{id:"5",productId:"5",type:"PURCHASE",quantity:12,unitPrice:150,totalPrice:1800,reference:"PUR-2025-002",notes:"R\xE9approvisionnement",userId:"1",createdAt:new Date(2025,9,5)}];mockAlerts=[{id:"1",productId:"3",type:"LOW_STOCK",message:"T-Shirt Coton Bio - Stock faible (8 unit\xE9s)",isRead:!1,createdAt:new Date},{id:"2",productId:"4",type:"OUT_OF_STOCK",message:"Clavier M\xE9canique RGB - Rupture de stock",isRead:!1,createdAt:new Date}];constructor(){this.transactionsSignal.set(this.mockTransactions),this.alertsSignal.set(this.mockAlerts)}get transactions(){return this.transactionsSignal.asReadonly()}get alerts(){return this.alertsSignal.asReadonly()}getTransactions(){return r(this.transactionsSignal()).pipe(n(300))}getTransactionsByProduct(t){let e=this.transactionsSignal().filter(a=>a.productId===t);return r(e).pipe(n(200))}addTransaction(t){let e=s(o({},t),{id:Date.now().toString(),createdAt:new Date});return this.transactionsSignal.update(a=>[e,...a]),r(e).pipe(n(300))}getAlerts(){return r(this.alertsSignal()).pipe(n(200))}getUnreadAlerts(){let t=this.alertsSignal().filter(e=>!e.isRead);return r(t).pipe(n(200))}markAlertAsRead(t){return this.alertsSignal.update(e=>e.map(a=>a.id===t?s(o({},a),{isRead:!0}):a)),r(void 0).pipe(n(200))}getInventoryReport(){let t={totalProducts:5,totalValue:45e3,lowStockItems:1,outOfStockItems:1,recentTransactions:this.transactionsSignal().slice(0,5),topProducts:[]};return r(t).pipe(n(300))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=d({token:i,factory:i.\u0275fac,providedIn:"root"})};export{l as a};
